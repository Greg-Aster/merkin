---
import SharedLicense from '@merkin/blog-core/components/misc/License.astro'
import { licenseConfig, profileConfig } from '../../config/config'
import I18nKey from '../../i18n/i18nKey'
import { i18n } from '../../i18n/translation'
import { formatDateToYYYYMMDD } from '../../utils/date-utils'

interface Props {
  title: string
  slug: string
  pubDate: Date
  class: string
}

const { title, slug, pubDate } = Astro.props
const className = Astro.props.class
const postUrl = decodeURIComponent(Astro.url.toString())
---
<SharedLicense
  class={className}
  title={title}
  postUrl={postUrl}
  authorLabel={i18n(I18nKey.author)}
  authorName={profileConfig.name}
  publishedAtLabel={i18n(I18nKey.publishedAt)}
  publishedAt={formatDateToYYYYMMDD(pubDate)}
  licenseLabel={i18n(I18nKey.license)}
  licenseName={licenseConfig.name}
  licenseUrl={licenseConfig.url}
/>
